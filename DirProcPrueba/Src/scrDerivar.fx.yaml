scrDerivar As screen:

    cmpBarraSuperior_11 As cmpBarraSuperior:

    lbl_TituloPrincipal_8 As label:
        Align: =Align.Center
        FontWeight: =FontWeight.Bold
        Height: =38
        Size: =24
        Text: ="DERIVAR SOLICITUD"
        Width: =1335
        X: =13
        Y: =icn_Volver_NS_5.Y + (icn_Volver_NS_5.Height / 2) - (Self.Height / 2)
        ZIndex: =2

    icn_Volver_NS_5 As icon.BackArrow:
        Icon: =Icon.BackArrow
        OnSelect: =Back();
        X: =60
        Y: =100
        ZIndex: =3

    requestFieldGroup_30 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =6

        requestFieldLbl_42 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="ID"
            Width: =30
            X: =icn_Volver_NS_1.X
            Y: =180
            ZIndex: =4

        requestFieldTxt_30 As text:
            Default: =requestFieldTxt_1.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =120
            X: =requestFieldLbl_42.X + requestFieldLbl_42.Width
            Y: =requestFieldLbl_42.Y
            ZIndex: =5

    requestFieldGroup_31 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =10

        requestFieldLbl_43 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Nro. Ticket"
            Width: =100
            X: =requestFieldTxt_30.X + requestFieldTxt_30.Width + 170
            Y: =requestFieldLbl_42.Y
            ZIndex: =7

        requestFieldTxt_31 As text:
            Default: =requestFieldTxt_2.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =120
            X: =requestFieldLbl_43.X + requestFieldLbl_43.Width
            Y: =requestFieldLbl_43.Y
            ZIndex: =8

    requestFieldGroup_32 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =14

        requestFieldLbl_44 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Nombre de Solicitud"
            Width: =180
            X: =requestFieldTxt_31.X + requestFieldTxt_31.Width + 100
            Y: =requestFieldLbl_42.Y
            ZIndex: =9

        requestFieldTxt_32 As text:
            Default: =requestFieldTxt_3.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =300
            X: =requestFieldLbl_44.X + requestFieldLbl_44.Width
            Y: =requestFieldLbl_44.Y
            ZIndex: =11

    requestFieldGroup_33 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =18

        requestFieldLbl_45 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Tipo de Solicitud"
            X: =requestFieldLbl_42.X
            Y: =requestFieldLbl_42.Y + requestFieldLbl_42.Height + 20
            ZIndex: =12

        requestFieldTxt_33 As text:
            Default: =requestFieldTxt_4.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =200
            X: =requestFieldLbl_45.X + requestFieldLbl_45.Width
            Y: =requestFieldLbl_45.Y
            ZIndex: =13

    requestFieldGroup_34 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =22

        requestFieldLbl_46 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Tipo de Servicio"
            Width: =140
            X: =requestFieldTxt_33.X + requestFieldTxt_33.Width + 100
            Y: =requestFieldLbl_45.Y
            ZIndex: =15

        requestFieldTxt_34 As text:
            Default: =requestFieldTxt_5.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =200
            X: =requestFieldLbl_46.X + requestFieldLbl_46.Width
            Y: =requestFieldLbl_46.Y
            ZIndex: =16

    requestFieldGroup_35 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =26

        requestFieldLbl_47 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Estado"
            Width: =70
            X: =requestFieldTxt_34.X + requestFieldTxt_34.Width + 130
            Y: =requestFieldLbl_45.Y
            ZIndex: =17

        requestFieldTxt_35 As text:
            Default: =requestFieldTxt_6.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =200
            X: =requestFieldLbl_47.X + requestFieldLbl_47.Width
            Y: =requestFieldLbl_47.Y
            ZIndex: =19

    Button5_2 As button:
        Text: ="DERIVAR"
        Width: =Parent.Width / 2
        X: =Parent.Width / 2 - Self.Width / 2
        Y: =Parent.Height - Self.Height - 15
        ZIndex: =30

    requestFieldGroup_36 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =31

        requestFieldLbl_48 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="F. Creación"
            Width: =110
            X: =requestFieldLbl_45.X
            Y: =requestFieldLbl_45.Y + requestFieldLbl_45.Height + 20
            ZIndex: =20

        requestFieldTxt_36 As text:
            Default: =requestFieldTxt_12.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =180
            X: =requestFieldLbl_48.X + requestFieldLbl_48.Width
            Y: =requestFieldLbl_48.Y
            ZIndex: =21

    upperToGroup_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =34

        requestFieldLbl_54 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Derivar Solicitud al Área:"
            Width: =200
            X: =requestFieldLbl_48.X
            Y: =requestFieldLbl_52.Y + requestFieldLbl_52.Height + 20
            ZIndex: =32

        txtBuscarManager_3 As text:
            Align: =Left
            Default: =""
            DisabledFill: =ColorFade(Color.Black, 0.95)//Self.Fill
            DisplayMode: |
                =// Disable if Form is not equal to editMode
                If(form_EditArea.Mode <> FormMode.Edit,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            HintText: ="Buscar"
            PaddingLeft: =35
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =13
            Width: =354
            X: =requestFieldLbl_54.X + requestFieldLbl_54.Width + 10
            Y: =requestFieldLbl_54.Y + (requestFieldLbl_54.Height / 2) - (Self.Height / 2)
            ZIndex: =33

        SearchIcon1_6 As icon.Search:
            BorderColor: =RGBA(0, 0, 0, 0)
            Color: =RGBA(135, 100, 184, 1)
            DisabledColor: =RGBA(220, 220, 220, 1)
            DisabledFill: =RGBA(0, 0, 0, 0)
            DisplayMode: =If(txtBuscarManager_3.DisplayMode = DisplayMode.Edit, DisplayMode.Edit, DisplayMode.View)
            FocusedBorderThickness: =4
            Height: =30
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =ColorFade(RGBA(135, 100, 184, 1), -30%)
            HoverFill: =RGBA(0, 0, 0, 0)
            Icon: =Icon.Search
            PaddingBottom: =8
            PaddingLeft: =8
            PaddingRight: =8
            PaddingTop: =8
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedColor: =ColorFade(RGBA(135, 100, 184, 1), -30%)
            PressedFill: =RGBA(0, 0, 0, 0)
            Tooltip: ="Buscar"
            Width: =38
            X: =txtBuscarManager_3.X
            Y: =txtBuscarManager_3.Y + (txtBuscarManager_3.Height / 2) - (Self.Height / 2)
            ZIndex: =35

        UserBrowseGallery1_6 As gallery.PeoplePickerTabletGallery:
            AccessibleLabel: ="Resultados de la búsqueda de usuarios"
            BorderColor: =RGBA(166, 166, 166, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.Height - Self.Y - 20
            Items: |
                =//If(!IsBlank(Trim(txtBuscarManager.Text)); UsuariosdeOffice365.SearchUser({searchTerm: Trim(txtBuscarManager.Text); top: 999}))
                If(!IsBlank(Trim(txtBuscarManager_3.Text)), 
                    /*Filter(*/UsuariosdeOffice365.SearchUser({searchTerm: Trim(txtBuscarManager_3.Text), top: 999})/*;
                    Not(UserPrincipalName in AddColumns(AreaManager;"EmailPersonalM";LookUp(Personal;ID=IdPersonal).Email).EmailPersonalM);
                    Not(UserPrincipalName in AddColumns(AreaManagerLider;"EmailPersonalML";LookUp(Personal;ID=IdPersonal).Email).EmailPersonalML);
                    Not(UserPrincipalName in AddColumns(AreaManagerLiderAnalista;"EmailPersonalMLA";LookUp(Personal;ID=IdPersonal).Email).EmailPersonalMLA)*/
                    //)
                )
            Layout: =Layout.Vertical
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =60
            Visible: =!IsBlank(Trim(txtBuscarManager_3.Text))
            Width: =txtBuscarManager_3.Width
            X: =txtBuscarManager_3.X
            Y: =txtBuscarManager_3.Y + txtBuscarManager_3.Height + 5
            ZIndex: =38

            Rectangle2_6 As rectangle:
                BorderColor: =Title2_13.Color
                BorderThickness: |-
                    =//If(ThisItem.UserPrincipalName in MyPeople.UserPrincipalName; 2; 0)
                    1
                DisabledFill: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(0,0,0,0)
                Height: =58
                HoverFill: =RGBA(0,0,0,0)
                OnSelect: =Select(Title2_13)
                PressedFill: =RGBA(135, 100, 184, 1)
                Width: =Parent.TemplateWidth - 2*Self.X
                X: =1
                Y: =1
                ZIndex: =1

            Title2_13 As label:
                BorderColor: =Self.Color
                Color: =RGBA(51, 51, 51, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =2
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =Self.Size * 1.8
                OnSelect: |-
                    =/*Select user, clear search contents and if this user hasn't been added to MyPeople collection, add them*/
                    If(IsBlank(LookUp(Personal, Email = ThisItem.UserPrincipalName)),
                        // New
                        Patch(Personal, 
                            Defaults(Personal), 
                            {
                                Nombre: ThisItem.DisplayName,
                                Email: ThisItem.UserPrincipalName,
                                IdPerfil: 2, 
                                IdArea: varIdArea
                            }
                        ),
                    
                        // Edit
                        Patch(Personal, 
                            LookUp(Personal, Email = ThisItem.UserPrincipalName), 
                            {
                                IdPerfil: 2, 
                                IdArea: varIdArea
                            }
                        )
                    );
                    
                    Concurrent(
                    //Set(_selectedUser; ThisItem);
                        Reset(txtBuscarManager),
                        Patch(AreaManager,
                            Defaults(AreaManager),
                            {
                                IdArea: varIdArea,
                                IdPersonal: LookUp(Personal, Email = ThisItem.UserPrincipalName).ID
                            }
                        )
                    )
                    
                    
                    //If(Not(ThisItem.UserPrincipalName in AddColumns(AreaManager;"EmailPersonal";LookUp(Personal;ID=AreaManager[@IdPersonal].Id).Email).EmailPersonal);
                    //Patch(AreaManager;Defaults(AreaManager);{IdArea:{Value:"";Id:varIdArea};IdPersonal:{Value:"";Id:LookUp(Personal; Email = ThisItem.UserPrincipalName).ID}})
                    //If(Not(ThisItem.UserPrincipalName in MyPeople.UserPrincipalName); Collect(MyPeople; ThisItem)))
                Size: =12
                TabIndex: =0
                Text: =ThisItem.DisplayName
                VerticalAlign: =Middle
                Width: =UserBrowseGallery1_6.TemplateWidth - 30
                Wrap: =false
                X: =5
                Y: =9
                ZIndex: =4

            Subtitle1_6 As label:
                Color: =RGBA(51, 51, 51, 1)
                FocusedBorderThickness: =2
                Font: =Font.'Segoe UI'
                Height: =Self.Size * 1.8
                OnSelect: =Select(Title2_13)
                Size: =12
                Text: =ThisItem.UserPrincipalName
                VerticalAlign: =Middle
                Width: =Title2_13.Width
                Wrap: =false
                X: =5
                Y: =31
                ZIndex: =5

            Separator1_6 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 0)
                Fill: =ColorFade(RGBA(135, 100, 184, 1), -30%)
                Height: =1
                OnSelect: =Select(Parent)
                Width: =Parent.TemplateWidth
                Y: =58
                ZIndex: =6

    requestFieldGroup_37 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =20
        ZIndex: =36

        requestFieldLbl_49 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="F. Expiración"
            Width: =120
            X: =requestFieldTxt_36.X + requestFieldTxt_36.Width + 50
            Y: =requestFieldLbl_48.Y
            ZIndex: =23

        requestFieldTxt_37 As text:
            Default: =requestFieldTxt_13.Text
            DisplayMode: =DisplayMode.Disabled
            PaddingLeft: =5
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =180
            X: =requestFieldLbl_49.X + requestFieldLbl_49.Width
            Y: =requestFieldLbl_49.Y
            ZIndex: =24

    descriptionGroup_7 As group:
        Height: =5
        Width: =5
        X: =80
        Y: =440
        ZIndex: =37

        requestFieldLbl_51 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="Comentario:"
            Width: =110
            X: =requestFieldLbl_48.X
            Y: =requestFieldLbl_54.Y + requestFieldLbl_54.Height + 25
            ZIndex: =28

        requestFieldLbl_53 As label:
            Color: =RGBA(0, 18, 107, 1)
            Height: =60
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                enim ad minim veniam,"
            Width: =requestFieldTxt_11.X + requestFieldTxt_11.Width - Self.X
            X: =requestFieldLbl_51.X + requestFieldLbl_51.Width
            Y: =requestFieldLbl_51.Y
            ZIndex: =29

    requestFieldLbl_55 As label:
        Color: =RGBA(0, 18, 107, 1)
        PaddingBottom: =0
        PaddingLeft: =0
        PaddingRight: =0
        PaddingTop: =0
        Text: |-
            ="Adjuntar Archivo(s):"
        Width: =180
        X: =requestFieldLbl_48.X
        Y: =requestFieldLbl_53.Y + requestFieldLbl_53.Height + 15
        ZIndex: =39

    descriptionGroup_6 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =39

        requestFieldLbl_50 As label:
            Color: =RGBA(0, 18, 107, 1)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: ="Descripción"
            Width: =110
            X: =requestFieldLbl_48.X
            Y: =requestFieldLbl_48.Y + requestFieldLbl_48.Height + 20
            ZIndex: =25

        requestFieldLbl_52 As label:
            Color: =RGBA(0, 18, 107, 1)
            Height: =100
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: |-
                ="lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
                voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                mollit anim id est laborum."
            Width: =requestFieldTxt_11.X + requestFieldTxt_11.Width - Self.X
            X: =requestFieldLbl_50.X + requestFieldLbl_50.Width
            Y: =requestFieldLbl_50.Y
            ZIndex: =27

    RequestAttachmentsForm As form:
        DataSource: =Solicitud
        Height: =Button5_2.Y - Self.Y - 5
        NumberOfColumns: =1
        Width: =300
        X: =requestFieldLbl_55.X + requestFieldLbl_55.Width
        Y: =requestFieldLbl_55.Y
        ZIndex: =40

        "'Datos adjuntos_DataCard3' As typedDataCard.attachmentsEditCard":
            BorderStyle: =BorderStyle.Solid
            DataField: ="{Attachments}"
            Default: =ThisItem.'Datos adjuntos'
            DisplayMode: =Parent.DisplayMode
            DisplayName: =DataSourceInfo([@Solicitud],DataSourceInfo.DisplayName,"{Attachments}")
            Fill: =RGBA(0, 0, 0, 0)
            Height: =Parent.Height
            Required: =false
            Update: =DataCardValue44.Attachments
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =41

            DataCardValue44 As attachments:
                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                DisplayMode: =Parent.DisplayMode
                Height: =Parent.Height
                IsInDataCard: =true
                Items: =Parent.Default
                PaddingBottom: =5
                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                PaddingRight: =5
                PaddingTop: =5
                Tooltip: =Parent.DisplayName
                Width: =Parent.Width
                ZIndex: =2

